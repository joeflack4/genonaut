# Genonaut Environment Variables Example
# Copy this file to .env and update with your actual values

# Database Connectivity: Local
# Option 1: Use a complete DATABASE_URL (recommended for production)
# If this is set and not empty, it will be used directly
# DATABASE_URL=postgresql://username:password@localhost:5432/genonaut

# Option 2: Use individual database components (used if DATABASE_URL is not set)
# Only DB_PASSWORD is required; others have defaults shown below
DB_HOST=localhost
DB_PORT=5432
DB_NAME=genonaut
DB_NAME_DEMO=genonaut_demo
DB_NAME_TEST=genonaut_test

# Postgres permissions (read only user):
# - NOSUPERUSER NOCREATEDB NOCREATEROLE NOINHERIT
# - GRANT SELECT ON ALL TABLES
# - GRANT USAGE ON ALL SEQUENCES
DB_USER_RO=genonaut_ro
DB_PASSWORD_RO=your_ro_password_here

# Postgres permissions (read/write user):
# - NOSUPERUSER NOCREATEDB NOCREATEROLE NOINHERIT
# - GRANT USAGE ON SCHEMA public
# - GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES
# - GRANT USAGE ON ALL SEQUENCES
DB_USER_RW=genonaut_rw
DB_PASSWORD_RW=your_rw_password_here

# Postgres permissions (admin user):
# - SUPERUSER CREATEDB CREATEROLE REPLICATION BYPASSRLS
# - ALTER SCHEMA public OWNER
# - GRANT USAGE ON SCHEMA public
DB_USER_ADMIN=genonaut_admin
DB_PASSWORD_ADMIN=your_admin_password_here
# DB_USER_ADMIN_UUID: used for local test and demo databases only,not for deployed dev, test, or prod databases.
# Set your own UUID here. You can generate one at: https://www.uuidgenerator.net/
DB_USER_ADMIN_UUID=add_uuid_here

# Database Connectivity: Development/Testing
# For local development, you might use:
# DATABASE_URL=postgresql://postgres:password@localhost:5432/genonaut_dev
# For testing with Docker:
# DATABASE_URL=postgresql://postgres:password@localhost:5433/genonaut_test

# Database Connectivity: Production
# For cloud databases, your DATABASE_URL might look like:
# DATABASE_URL=postgresql://user:pass@db.example.com:5432/genonaut_prod
# For managed services like Heroku Postgres:
# DATABASE_URL=postgres://username:password@hostname:port/database

# Legacy credentials for initial setup (used to create the three-tier users)
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Database Options
# Enable SQL query logging (useful for debugging, set to 'true' to enable)
DB_ECHO=false

# DB URL (constructed from individual components)
DATABASE_URL=postgresql://${DB_USER_ADMIN}:${DB_PASSWORD_ADMIN}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DATABASE_URL_DEMO=postgresql://${DB_USER_ADMIN}:${DB_PASSWORD_ADMIN}@${DB_HOST}:${DB_PORT}/${DB_NAME_DEMO}
DATABASE_URL_TEST=postgresql://${DB_USER_ADMIN}:${DB_PASSWORD_ADMIN}@${DB_HOST}:${DB_PORT}/${DB_NAME_TEST}

# FastAPI Configuration
# Secret key for JWT tokens and other cryptographic operations
API_SECRET_KEY=your-secret-key-change-this-in-production

# API server configuration
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false

# API environment - determines which database to use by default
# Options: dev (uses DATABASE_URL), demo (uses DATABASE_URL_DEMO), test (uses DATABASE_URL_TEST/DB_NAME_TEST)
API_ENVIRONMENT=dev

# Force init/migration helpers to target a specific database
# GENONAUT_DB_ENVIRONMENT=test

# Markdown Manager GitHub Integration
# GitHub Personal Access Token for syncing issues with markdown files
# Create at: https://github.com/settings/tokens (needs 'repo' scope)
GITHUB_TOKEN=your_github_personal_access_token_here

# GitHub repository details for markdown manager sync
GITHUB_REPO_OWNER=your-username
GITHUB_REPO_NAME=your-repository

# Alternative token name (if GITHUB_TOKEN is not set)
# MD_MANAGER_TOKEN=your_github_personal_access_token_here

# Markdown Manager logging level (optional)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# MD_MANAGER_LOG_LEVEL=INFO

# Redis
# Redis URLs (single server, 3 logical DBs)
REDIS_URL_DEMO=redis://localhost:6379/2
REDIS_URL_TEST=redis://localhost:6379/3
REDIS_URL_DEV=redis://localhost:6379/4

# Active environment (one of: demo, test, dev)
APP_ENV=dev

# Optional: per-env namespaces for keys/queues (recommended)
REDIS_NS_DEMO=genonaut_demo
REDIS_NS_TEST=genonaut_test
REDIS_NS_DEV=genonaut_dev

# Celery (you can keep broker and result in the same DB, or split them—see §4)
CELERY_BROKER_URL_DEMO=${REDIS_URL_DEMO}
CELERY_RESULT_BACKEND_DEMO=${REDIS_URL_DEMO}

CELERY_BROKER_URL_TEST=${REDIS_URL_TEST}
CELERY_RESULT_BACKEND_TEST=${REDIS_URL_TEST}

CELERY_BROKER_URL_DEV=${REDIS_URL_DEV}
CELERY_RESULT_BACKEND_DEV=${REDIS_URL_DEV}
